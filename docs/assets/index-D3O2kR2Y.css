@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Source+Serif+4:wght@400;500&display=swap";:root{--layout-story-offset-x: 310px;--layout-story-offset-y: 0px;--layout-editor-width: 850px;--layout-editor-offset-x: -9px;--layout-nav-offset-x: 322px;--layout-nav-offset-y: 0px;--layout-characters-list-x: -124px;--layout-characters-list-y: 0px;--layout-characters-list-width: 220px;--layout-characters-detail-x: 107px;--layout-characters-detail-y: 0px;--layout-characters-detail-width: 880px;--token-bg: #fdf0d5;--token-surface: #fdf0d5;--token-border: #003049;--token-text: #003049;--token-text-muted: #003049;--token-accent: #c1121f;--token-danger: #780000;--token-focus: #669bbc;--token-highlight: #669bbc;--token-shadow-soft: #003049;--token-radius: 12px;--token-spacing: 16px;--bg: #fef9ee;--surface-modern: #ffffff;--surface-2: #f3f5f8;--border-modern: #f2f3f6;--text-modern: #003049;--muted-modern: #4b5c6b;--shadow-1: 0 10px 28px rgba(0, 48, 73, .035);--radius-1: 12px;--radius-2: 16px;--radius-card: 18px;--radius-btn: 12px;--color-primary-dark: #780000;--color-primary: #c1121f;--color-background: #fdf0d5;--color-text-main: #003049;--color-accent: #669bbc;--bg-main: var(--bg);--text-main: var(--color-text-main);--selected-bg: #003049;--selected-fg: #ffffff;--text-muted: rgba(0, 48, 73, .6);--accent: var(--color-primary);--accent-warm: var(--color-primary-dark);--accent-soft: rgba(102, 155, 188, .2);--accent-editorial: var(--color-text-main);--border-soft: var(--border-modern);--surface: var(--surface-modern);--surface-soft: var(--surface-2);--surface-sidebar: var(--surface-2);--shadow-soft: none;font-family:Inter,system-ui,-apple-system,Segoe UI,sans-serif;line-height:1.6;color:#003049;background-color:var(--bg-main);text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}*{box-sizing:border-box}body{margin:0;min-height:100vh;background:var(--bg);color:var(--text-modern);font-size:16px;line-height:1.65;font-weight:400;letter-spacing:.005em}#app{max-width:none;margin:0;padding:24px 24px 48px}.page-shell{display:grid;gap:12px}.layout-container{max-width:1200px;margin:0 auto;padding:0 24px}.home-shell .topbar-inner{display:flex;align-items:center;gap:12px}.home-shell .topbar-left{display:flex;justify-content:flex-start;padding-left:0}.topbar{background:var(--bg);border-radius:var(--radius-card);border:none;box-shadow:none;padding:0;color:var(--text-modern);border-bottom:none}.topbar-inner{display:flex;align-items:center;justify-content:flex-start;gap:18px;flex-wrap:wrap;padding:21px 27px;position:relative}.topbar-inner:after{content:"";position:absolute;left:12px;right:12px;bottom:6px;height:2px;background:#003049}.topbar-inner.topbar-centered-title{position:relative;flex-wrap:nowrap}.topbar-left{display:flex;align-items:center;gap:18px;flex-wrap:wrap}.topbar-right{display:flex;align-items:center;gap:15px;flex-wrap:wrap;margin-left:auto}.topbar-account,.topbar-backup{position:relative}.topbar-account-btn{padding:6px 10px;border-radius:999px;gap:8px}.topbar-account-avatar{width:36px;height:36px;border-radius:999px;border:1px solid var(--border-modern);display:inline-flex;align-items:center;justify-content:center;font-size:18px;font-weight:500;color:#003049;background:var(--surface-modern)}.topbar-account-label{font:inherit;color:inherit;max-width:210px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.topbar-popover{position:absolute;top:calc(100% + 8px);right:0;background:var(--surface-modern);border:1px solid var(--border-modern);border-radius:var(--radius-card);box-shadow:var(--shadow-1);padding:8px;min-width:200px;z-index:10;display:grid;gap:6px}.topbar-popover-item{width:100%;justify-content:flex-start;padding:8px 10px;border-radius:var(--radius-btn);color:var(--text-modern);display:flex;align-items:center;gap:8px;min-height:36px}.topbar-popover-icon{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0}.topbar-popover-icon .btn-icon{width:18px;height:18px}.topbar-popover-label{display:inline-block}.topbar-popover-item:disabled{opacity:.5;cursor:not-allowed}.topbar-popover-sep{height:1px;background:var(--border-modern);margin:4px}.topbar-popover-meta{margin:2px 4px;font-size:11px;color:var(--muted-modern);display:flex;align-items:center;gap:8px;min-height:28px}.topbar h1{margin:0;font-size:27px;font-weight:700;color:var(--text-modern)}.topbar-center{position:absolute;left:50%;transform:translate(-50%);pointer-events:none}.topbar-center h1{pointer-events:auto}.topbar p{margin:2px 0 0;font-size:11px;color:#fdf0d5b3}.topbar-right p{margin:0}.topbar-nav,.topbar-right{display:flex;align-items:center;gap:0;flex-wrap:wrap;font-size:18px;font-weight:600}.topbar-right{position:relative;margin-left:auto}.topbar-right>*{position:relative}.topbar-right>*:not(:last-child){margin-right:36px}.topbar-right>*:not(:last-child):after{content:"•";position:absolute;right:-24px;top:50%;transform:translateY(-50%);color:currentColor;opacity:.6;font-size:14px;line-height:1}.topbar .topbar-pill{padding:0;border:none;background:transparent;color:inherit;font:inherit;font-weight:inherit;position:relative}.topbar-nav .topbar-pill:not(:last-child){margin-right:36px}.topbar-nav .topbar-pill:not(:last-child):after{content:"•";position:absolute;right:-24px;top:50%;transform:translateY(-50%);color:currentColor;opacity:.6;font-size:14px;line-height:1}.topbar .topbar-pill:hover{color:#003049;opacity:1}.topbar .topbar-pill.is-active{background:transparent;color:inherit;border-radius:0;opacity:.8}.topbar .topbar-pill:focus-visible{outline:2px solid var(--color-accent);outline-offset:4px;border-radius:999px}.topbar-right .topbar-account-avatar{display:none}.topbar .topbar-pill{padding:0;border:none;border-radius:0;background:transparent;color:inherit;font:inherit;font-weight:inherit;cursor:pointer;display:inline-flex;align-items:center;gap:12px;transition:color .2s ease}.topbar .topbar-pill:hover{background:transparent;color:#003049;opacity:1}.topbar .topbar-pill:disabled{opacity:.5;cursor:not-allowed}.topbar .topbar-action{padding:0;border-radius:0;font:inherit}.page{display:grid;gap:20px;background:var(--surface-modern);padding:24px;border-radius:var(--radius-card);border:1px solid var(--border-modern);box-shadow:var(--shadow-1)}.ideas-page,.projects-page,.home-shell .page.dashboard{background:transparent;border:none;box-shadow:none;padding:0}.home-landing{display:grid;gap:22px;margin-top:60px;padding-top:64px;padding-bottom:48px;min-height:calc(100vh - 120px)}.home-landing.is-analysis .home-hero-split{display:none}.home-hero-split{display:grid;grid-template-columns:minmax(0,.95fr) minmax(0,1.25fr);gap:36px;align-items:center;position:relative;padding-bottom:56px}.home-hero-copy{display:grid;gap:14px;align-self:center;position:relative;z-index:2;overflow:visible}.home-hero-title-large{margin:0;font-size:clamp(38px,4.6vw,64px);line-height:1.05;font-weight:600;color:var(--text-modern);letter-spacing:.02em}.home-hero-desc{margin:0;font-size:18px;color:var(--muted-modern);max-width:52ch}.home-hero-quote{margin:0;padding-left:16px;border-left:2px solid var(--border-modern);font-size:18px;font-style:italic;color:var(--muted-modern);max-width:52ch;white-space:nowrap}.home-hero-art{min-height:420px;border-radius:var(--radius-card);background:transparent;border:none;box-shadow:none;position:relative;overflow:visible;z-index:1}.home-hero-art:before{content:"";position:absolute;inset:-32% -22%;background:transparent url(/Plumeo/assets/hero-illustration.png) center center / contain no-repeat;pointer-events:none}.home-scroll-hint{position:absolute;left:50%;bottom:16px;transform:translate(-50%);border:none;background:transparent;color:var(--text-modern);display:inline-flex;flex-direction:column;align-items:center;gap:6px;padding:6px 10px;cursor:pointer;text-align:center;z-index:3}.home-scroll-hint-icon{width:22px;height:22px;display:inline-flex;align-items:center;justify-content:center;animation:scroll-hint-bounce 1.8s ease-in-out infinite}.home-scroll-hint-icon svg{width:100%;height:100%}.home-scroll-hint-label{font-size:12px;letter-spacing:.02em;opacity:.7}.home-scroll-hint:hover,.home-scroll-hint:focus-visible{opacity:1}.home-scroll-hint:focus-visible{outline:2px solid rgba(0,48,73,.4);outline-offset:4px;border-radius:999px}#home-next,#home-analysis{scroll-margin-top:80px}.home-analysis{display:grid;gap:20px;padding:32px 0 56px}.analysis-frame{border:2px solid var(--text-modern);border-radius:calc(var(--radius-card) + 6px);padding:0 24px 24px;background:transparent;display:grid;gap:20px}.analysis-frame-header{display:flex;justify-content:center;align-items:center;background:var(--text-modern);color:#fff;border-radius:calc(var(--radius-card) + 4px) calc(var(--radius-card) + 4px) 0 0;padding:8px 16px;margin:0 -24px 12px}.analysis-title{margin:0;font-size:30px;line-height:1.05;text-align:center;color:#fff}.analysis-frame-body{display:grid;grid-template-columns:minmax(0,1.35fr) minmax(0,.65fr);gap:28px;align-items:center}.home-analysis-layout{display:none}.home-analysis-header{display:flex;justify-content:center}.home-analysis-left{display:flex;justify-content:center;align-items:center}.home-analysis-right{display:flex;flex-direction:column;gap:16px;align-items:stretch}.home-analysis-illustration{display:block;width:100%;height:auto;margin:0}.home-analysis-header h2{margin:0;font-size:20px}.home-analysis-header .muted{margin:4px 0 0;font-size:13px}.home-analysis-grid{display:grid;grid-template-columns:minmax(0,2fr) minmax(0,1fr);gap:20px}.home-analysis-card{border:1px solid var(--token-border);border-radius:var(--radius-card);background:var(--bg);padding:20px;display:grid;gap:16px}.home-analysis-card h3{margin:0;font-size:16px}.home-analysis-kpis{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}.home-analysis-kpi{display:grid;gap:6px}.home-analysis-kpi-label{font-size:12px;color:var(--text-muted)}.home-analysis-kpi-value{font-size:22px;font-weight:600;color:var(--text-modern)}.home-analysis-kpi-meta{font-size:12px;color:var(--text-muted)}.home-analysis-insight-visual{height:120px;border-radius:12px;background:linear-gradient(135deg,#0030491f,#00304908);border:1px solid var(--token-border)}.home-analysis-insight-text{margin:0;color:var(--text-muted)}@media(max-width:900px){.home-analysis-layout{grid-template-columns:1fr}.home-analysis-left{order:0}.home-analysis-right{order:1}.home-analysis-grid,.home-analysis-kpis{grid-template-columns:1fr}}@keyframes scroll-hint-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(6px)}}@media(max-width:900px){.layout-container{padding:0 18px}.home-landing{padding-top:32px;padding-bottom:48px}.home-hero-split{grid-template-columns:1fr}.home-hero-art{min-height:240px;background:transparent}.home-hero-art:before{inset:-20% -10%}}.home-intent{margin:0;font-size:14px;color:var(--text-muted);opacity:.75}.home-hero{display:grid;gap:10px;padding:44px 28px;margin:20px 0 28px;background:var(--surface-modern);border-radius:var(--radius-card);border:1px solid var(--border-modern);box-shadow:var(--shadow-1);justify-items:center;text-align:center}.home-quote{margin-bottom:16px;padding:10px 16px;border-radius:var(--radius-card);background:transparent;border:none;border-left:1px solid var(--border-modern);text-align:left}.home-quote p{margin:0;font-size:12px;color:var(--muted-modern);font-style:italic}.home-hero-title{margin:0;font-size:20px;font-weight:650;color:#003049}.home-hero-cta{width:fit-content;padding:12px 28px;font-size:17px;font-weight:600;border-radius:var(--radius-btn);border:1px solid var(--accent);background:var(--accent);color:#fdf0d5;box-shadow:none;margin-top:12px;letter-spacing:.01em;min-height:44px}.home-hero-cta:hover{border-color:#003049;color:#003049;background:transparent;filter:none}.home-hero-cta:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.home-hero-note{margin:0;font-size:12px;color:var(--text-muted);opacity:.6;line-height:1.5}.app-shell{gap:24px}.home-layout{display:block}.home-content{max-width:980px;margin:0 auto;display:grid;gap:28px;padding:16px;border-radius:0;background:transparent;border:none;box-shadow:none}.home-content .panel{background:var(--surface-modern);border-color:var(--border-modern)}.home-content .panel .panel-header h2{color:var(--muted-modern)}.home-content .panel .muted,.home-content .panel .projects-export-hint{color:var(--muted-modern);opacity:.7}.home-layout button:not(.home-hero-cta):not(.topbar-pill){background:transparent;border-color:var(--border-modern);color:var(--muted-modern)}.home-layout button:not(.home-hero-cta):not(.topbar-pill):hover{border-color:#003049;background:transparent;color:#003049}.home-stats-note{font-size:11px;color:var(--text-muted);opacity:.7}.home-stats-card{display:grid;grid-template-columns:1fr auto 1fr auto 1fr;gap:16px;padding:16px;border-radius:var(--radius-1);background:var(--surface-modern);border:1px solid var(--border-modern)}.home-stats-col{display:grid;gap:4px}.home-stats-divider{width:1px;background:transparent}.home-stats-value{margin:0;font-size:18px;font-weight:500;color:#003049}.home-stats-label{margin:0;font-size:12px;color:var(--text-muted);opacity:.7}.home-stats-sub{margin:0;font-size:12px;color:#003049}.home-stats-hint{margin:0;font-size:11px;color:var(--text-muted);opacity:.7}.home-cloud-actions{display:grid;gap:8px;margin-top:8px}.home-cloud-actions button{width:100%;display:inline-flex;align-items:center;justify-content:flex-start;gap:8px;line-height:1.2}.btn-icon{width:14px;height:14px;flex-shrink:0;position:relative;top:2px}.home-auth-divider{height:1px;background:#fdf0d559;margin:10px 0;border:none}.home-auth-status{display:inline-flex;align-items:center;gap:6px;font-size:12px;color:#fdf0d5bf}.home-auth-dot{width:8px;height:8px;border-radius:999px;background:#00304959}.home-auth-dot.is-online{background:#669bbc}.home-auth-email{margin:2px 0 0;font-size:12px;color:#fdf0d5bf;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.home-cloud-meta{margin:0;font-size:11px;color:#fdf0d5a6}.home-cloud-status{margin:0;font-size:12px;color:#fdf0d5a6}.home-backup-actions{display:grid;gap:8px;margin-top:8px}.home-backup-actions button{width:100%}.home-backup-status{margin:0;font-size:11px;color:#fdf0d5a6}.app-header{display:flex;align-items:center;justify-content:space-between;gap:16px}.app-header h1{margin:0;font-size:24px;font-weight:500}.writing-layout{display:grid;grid-template-columns:64px minmax(320px,1fr);gap:18px;align-items:start}.writing-layout.with-chapter{grid-template-columns:64px 240px minmax(320px,1fr)}.writing-sidebar,.writing-editor,.writing-secondary{display:block}.writing-editor{max-width:var(--layout-editor-width);width:100%;justify-self:center;transform:translate(var(--layout-editor-offset-x))}.writing-editor--wide{max-width:1100px;width:100%;justify-self:center;transform:translate(var(--layout-editor-offset-x))}.writing-editor--ideas{max-width:1090px;width:100%;justify-self:center;transform:translate(var(--layout-editor-offset-x))}.writing-editor--mindmap{max-width:var(--layout-editor-width-mindmap, 1100px);width:100%;justify-self:center;transform:translate(var(--layout-editor-offset-x))}.writing-editor--wide .inspiration-panel{width:100%}.writing-editor .panel.editor{box-shadow:none;margin:0;border-color:#003049;background:var(--bg)}.writing-sidebar .panel,.writing-rightbar .panel{background:var(--bg);border-color:#003049}.writing-nav{display:grid;gap:16px;padding:16px}.writing-nav-header{font-size:14px;font-weight:600;color:var(--muted-modern)}.writing-nav-list{display:grid;gap:8px}.editor-sidebar{width:64px;transform:translate(var(--layout-nav-offset-x),var(--layout-nav-offset-y))}.editor-sidebar .writing-nav-header{display:none}.editor-sidebar .writing-nav{padding:12px 8px;justify-items:center}.editor-sidebar__item{width:44px;height:44px;padding:0;border-radius:10px;display:flex;align-items:center;justify-content:center;gap:0;grid-template-columns:none;text-align:center}.editor-sidebar__icon{margin:0}.editor-sidebar__icon svg{width:20px;height:20px}.editor-sidebar__label{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.editor-sidebar__item.is-active{background:var(--selected-bg);border:1px solid var(--selected-bg);color:var(--selected-fg)}.writing-secondary .panel{background:var(--bg);border-color:#003049}.writing-secondary{position:relative;transform:translate(var(--layout-story-offset-x),var(--layout-story-offset-y))}.story-panel{display:grid;gap:16px;padding:18px;margin-left:0;margin-top:0}.story-panel__header{display:flex;align-items:center;justify-content:space-between;gap:12px}.story-panel__header .btn{width:28px;height:28px;padding:0;display:inline-flex;align-items:center;justify-content:center;color:#003049}.story-panel__header .btn svg{width:16px;height:16px}.story-panel__header h3{margin:0;font-size:15px;font-weight:600;color:#003049}.story-panel__divider{height:1px;background:var(--border-modern)}.story-panel__project{margin:4px 0 0;font-size:12px;color:var(--muted-modern)}.story-panel__section{display:grid;gap:10px;padding-top:12px;border-top:none}.story-panel__section:first-of-type{padding-top:0}.story-panel__search label{font-size:12px;color:var(--muted-modern)}.story-panel__search-row{display:grid;grid-template-columns:minmax(120px,180px) auto;gap:8px;align-items:center}.story-panel__search-row .input{width:160px;height:28px;padding:4px 10px;font-size:12px;background:var(--bg);border:1px solid var(--border-modern);color:#003049}.story-panel__search-row .input::placeholder{color:var(--text-muted)}.story-panel__search-row .input:hover{border-color:#003049}.story-panel__search-row .input:focus-visible{outline:2px solid #669bbc;outline-offset:2px}.story-panel__section-header{display:flex;align-items:center;justify-content:space-between;gap:8px}.story-panel__section-header h4{margin:0;font-size:13px;font-weight:600;color:#003049}.story-panel__chapter-actions{display:flex;gap:6px}.story-panel__chapter-actions .btn{width:28px;height:28px;padding:0;display:inline-flex;align-items:center;justify-content:center;border-radius:8px;color:var(--text-modern)}.story-panel__chapter-actions svg{width:16px;height:16px}.story-panel__list{display:grid;gap:8px;max-height:280px;overflow:auto;padding-right:4px}.story-panel__list .chapter-list{display:grid;gap:6px}.story-panel__list .list-button{border-radius:10px;padding:8px 10px;border:1px solid transparent;background:transparent;text-align:left;width:100%;color:var(--text-modern)}.story-panel__list .list-button:hover{background:transparent;border-color:#003049;color:#003049}.story-panel__list .list-button.is-selected{background:var(--selected-bg);border-color:var(--selected-bg);color:var(--selected-fg)}.story-panel__list .muted{color:var(--muted-modern)}.story-panel__file-actions .btn{color:#003049;border-color:var(--border-modern)}.story-panel__file-actions .btn:hover{background:transparent;border-color:#003049;color:#003049}.story-panel__footer{display:grid;gap:10px}.story-panel__file-actions{display:grid;gap:8px}.chapter-panel{display:grid;gap:16px;padding:16px}.chapter-panel-header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}.chapter-panel-header h3{margin:0;font-size:15px;font-weight:600;color:#003049}.chapter-panel-header .muted{margin-top:4px;font-size:12px}.chapter-pin{padding:6px;border-radius:var(--radius-btn)}.chapter-pin svg{width:16px;height:16px}.chapter-search{display:grid;gap:6px;font-size:12px;color:var(--text-muted)}.chapter-search-row{display:grid;grid-template-columns:minmax(0,1fr) auto;gap:8px}.chapter-search-row input{padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-soft);background:var(--surface-modern);font-size:13px;color:#003049}.chapter-list-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.chapter-list-header h4{margin:0;font-size:13px;font-weight:600;color:#003049}.chapter-list-actions{display:inline-flex;gap:6px}.chapter-list-actions button svg{width:16px;height:16px}.chapter-list .chapter-item{border-radius:var(--radius-card);padding:4px}.chapter-list .chapter-item.is-selected,.chapter-list .chapter-item .list-button.is-selected{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);box-shadow:none;font-weight:600}.chapter-panel-footer{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;padding:10px;border-radius:var(--radius-card);background:var(--surface-modern)}.writing-nav-item{display:grid;grid-template-columns:20px 1fr;align-items:center;gap:10px;padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:transparent;color:var(--text-modern);cursor:pointer;text-align:left;font-size:13px}.writing-nav-item:hover{background:transparent;border-color:#003049;color:#003049}.writing-nav-item.is-active{background:var(--selected-bg);border-color:var(--selected-bg);color:var(--selected-fg)}.writing-nav-icon{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;color:currentColor}.writing-nav-icon svg{width:18px;height:18px}.editor-tabs{display:grid;grid-template-columns:1fr;gap:8px}.editor-tab-block{display:grid;gap:6px}.editor-tab{width:100%;text-align:left;padding:10px 12px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:var(--surface-modern);color:#003049;font-size:13px;font-weight:600;cursor:pointer}.editor-tab.is-active{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg)}.editor-tab-content{display:grid;gap:10px;font-size:13px;color:#003049}.panel-card{background:var(--surface-modern);border:1px solid var(--border-modern);box-shadow:var(--shadow-1)}.dashboard-grid{display:grid;gap:16px}.dashboard-grid>.panel:first-child{padding:20px}.last-project-card{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:16px;border-radius:var(--radius-card);border:1px solid var(--border-modern);background:var(--surface-modern)}.last-project-card.hero{border-color:transparent;background:var(--surface-modern);box-shadow:none;padding:26px;margin-bottom:6px}.last-project-card.hero h3{margin:0 0 6px;font-size:18px;font-weight:600;color:#003049}.last-project-card.hero .muted{font-size:13px}.last-project-card .hero-button{padding:10px 18px;font-size:14px;font-weight:600;border-radius:var(--radius-card)}.hero-button.primary-cta{padding:14px 26px;font-size:16px;box-shadow:none}.home-ritual{margin:8px 0 0;font-size:14px;color:#003049}.project-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.project-card{width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-radius:var(--radius-card);border:1px solid #003049;background:transparent;box-shadow:none;transition:border-color .2s ease,transform .2s ease}.project-card:hover{background:transparent;border-color:#003049;color:#003049}.project-card.is-active{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);box-shadow:none}.project-card--projects{cursor:pointer;position:relative}.project-card.project-card--projects.is-active{border-color:#003049;background:transparent;color:#003049}.project-card.project-card--projects.is-active h3,.project-card.project-card--projects.is-active .project-card-info,.project-card.project-card--projects.is-active .project-badge,.project-card.project-card--projects.is-active .project-status,.project-card.project-card--projects.is-active .project-menu-toggle{color:#003049}.project-card.project-card--projects.is-active .project-card-info{opacity:.75}.project-card-title{display:flex;align-items:center;gap:8px}.project-badge{font-size:11px;padding:2px 6px;border-radius:999px;border:1px solid #003049;color:#003049}.project-status{font-size:11px;color:var(--text-muted);border:1px solid rgba(0,48,73,.2);padding:2px 6px;border-radius:999px}.project-card-actions{display:inline-flex;align-items:center;gap:8px;position:relative}.project-menu-toggle{border:1px solid #003049;background:transparent;color:#003049;border-radius:999px;width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;padding:0;line-height:1}.project-menu{position:absolute;right:0;top:calc(100% + 8px);display:grid;gap:6px;padding:8px;border-radius:12px;border:1px solid #003049;background:var(--bg);min-width:180px;z-index:5}.project-menu-item{text-align:left;border:1px solid transparent;background:transparent;padding:6px 8px;border-radius:8px;color:#003049;font:inherit}.project-card.is-active h3,.project-card.is-active .project-card-info,.project-card.is-active .project-card-meta,.project-card.is-active .project-card-status,.project-card.is-active .project-card-progress,.project-card.is-active .project-card-delete{color:var(--selected-fg)}.project-card.is-active .project-card-status,.project-card.is-active .project-card-progress,.project-card.is-active .project-card-delete{border-color:var(--selected-fg);background:transparent}.project-card-main{flex:1;text-align:left;border:none;background:transparent;padding:0;cursor:pointer;color:inherit}.project-card-main:hover,.project-card-main:active{background:transparent;border:none}.project-card-main h3{margin:0 0 6px;font-size:16px;color:#003049;font-weight:500}.project-card-meta{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.project-card-status{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;border:1px solid var(--border-modern);font-size:11px;color:var(--text-muted);background:var(--surface-modern);opacity:.75}.project-card-status.is-active{border-color:var(--selected-fg);color:var(--selected-fg);background:transparent}.project-card-progress{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;border:1px solid rgba(102,155,188,.2);font-size:11px;color:#003049;background:var(--surface-modern);opacity:.75}.project-card-info{font-size:12px;color:var(--text-muted);opacity:.75}.project-card-delete{border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:#00304914;color:var(--text-muted);padding:6px 10px;font-size:12px;opacity:.6}.project-card-delete:hover{border-color:#780000;color:#780000;background:#78000014}.tool-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.tool-card{padding:12px;border-radius:var(--radius-card);border:1px dashed var(--border-soft);background:var(--surface-modern);color:var(--text-muted)}.tool-card h3{margin:0 0 6px;font-size:14px}.panel{display:grid;gap:12px;padding:16px;border-radius:var(--radius-card);background:var(--surface-modern);border:1px solid var(--border-modern);min-height:200px}.panel-section{display:grid;gap:10px;padding-top:8px;border-top:1px dashed var(--border-soft)}.panel-section:first-of-type{border-top:none;padding-top:0}.panel-section h3{margin:0;font-size:12px;font-weight:600;color:var(--text-muted)}.projects-export-hint{font-size:12px;color:var(--text-muted);line-height:1.4}.project-summary{display:grid;gap:4px;margin-top:6px}.chapter-export{margin-top:12px;padding-top:8px;border-top:1px dashed var(--border-soft)}.project-summary-label{font-size:11px;color:var(--text-muted)}.project-summary-title{font-size:14px;color:#003049}.project-summary-title.is-active{color:#669bbc;background:var(--surface-modern);border-radius:999px;padding:4px 10px;display:inline-flex;align-items:center}.panel.is-disabled{opacity:.7}.character-panel{padding:0;overflow:visible;background:transparent;border:none}.characters-skin.character-panel,.characters-skin .character-shell{background:transparent}.characters-skin .character-list,.characters-skin .character-detail-panel{background:var(--bg);border:1px solid #003049;box-shadow:none}.characters-skin .character-list{border-right:1px solid #003049}.characters-skin .character-list-header h2,.characters-skin .character-name,.characters-skin .character-hero-info h3,.characters-skin .character-hero-info ul,.characters-skin .character-hero-meta,.characters-skin .character-count{color:#003049}.characters-skin .character-list-actions .character-primary{border-color:#003049;color:#003049;background:var(--bg)}.characters-skin .character-list-actions .character-primary:hover{background:transparent;border-color:#003049;color:#003049}.characters-skin .character-list-actions .input,.characters-skin .character-grid input,.characters-skin .character-grid textarea{background:var(--bg);border:1px solid #003049;color:#003049}.characters-skin .character-grid textarea::placeholder,.characters-skin .character-list-actions .input::placeholder{color:var(--text-muted)}.characters-skin .character-list-actions .input:focus-visible,.characters-skin .character-grid input:focus-visible,.characters-skin .character-grid textarea:focus-visible{outline:2px solid #003049;outline-offset:2px}.characters-skin .character-item{border:none!important;background:transparent}.characters-skin .character-item.is-active .character-item-main{background:var(--selected-bg);border-color:transparent;color:var(--selected-fg);box-shadow:none;width:100%}.characters-skin .character-item.is-active{border:none!important;background:transparent}.characters-skin .character-item-main{border:1px solid transparent;outline:none}.characters-skin .character-item-main:focus-visible{outline:2px solid #003049;outline-offset:2px}.characters-skin .character-item.is-active .character-name,.characters-skin .character-item.is-active .character-subtext{color:var(--selected-fg)}.characters-skin .character-item.is-active .character-subtext{opacity:.85}.characters-skin .character-item.is-active .character-avatar{background:var(--bg);border-color:var(--selected-fg);color:#003049}.characters-skin .character-hero{border-bottom:1px solid #003049}.characters-skin .character-accordion{border-top:1px solid #003049}.characters-skin .character-dot{background:#003049}.characters-skin .character-accordion-header,.characters-skin .character-accordion-icon{color:#003049}.characters-skin .character-star{color:#00304959}.characters-skin .character-star.is-active{color:#003049}.characters-skin .character-inline-row input[type=radio]{accent-color:#003049}.character-sidebar{display:grid;gap:12px}.character-shell{position:relative;min-height:600px}.character-list{position:absolute;left:var(--layout-characters-list-x);top:var(--layout-characters-list-y);width:var(--layout-characters-list-width);display:grid;gap:10px;padding:16px;border:1px solid #003049;border-radius:var(--radius-card);background:var(--bg);align-content:start;color:#fdf0d5e6}.character-detail-panel{position:absolute;left:var(--layout-characters-detail-x);top:var(--layout-characters-detail-y);width:var(--layout-characters-detail-width);border:1px solid #003049;border-radius:var(--radius-card);background:var(--bg)}.characters-panel__header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.characters-panel__title{font-size:14px;font-weight:600;color:#003049}.characters-panel__count{font-size:12px;font-weight:400;color:var(--text-muted);opacity:.7}.characters-panel__create{padding:4px 10px;border-radius:var(--radius-btn);border:1px solid rgba(0,48,73,.18);background:transparent;color:#003049;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:6px;height:32px;white-space:nowrap;max-width:100%}.characters-panel__create:hover{border-color:#003049;background:transparent;color:#003049}.characters-panel__search .input{width:100%;border:1px solid rgba(0,48,73,.18);background:#00304908;color:#003049}.characters-panel__search .input::placeholder{color:var(--text-muted)}.characters-panel__search .input:focus-visible{outline:2px solid rgba(0,48,73,.5);outline-offset:2px}.characters-list{display:grid;gap:10px}.characters-item{display:flex;align-items:center;gap:8px;padding:4px 2px;border-radius:var(--radius-btn);background:transparent}.characters-item__main{display:inline-flex;align-items:center;gap:10px;padding:12px;border-radius:var(--radius-btn);border:1px solid transparent;background:transparent;color:#003049;cursor:pointer;flex:1;text-align:left}.characters-item__avatar{width:28px;height:28px;border-radius:999px;background:#0030490a;border:1px solid rgba(0,48,73,.18);display:grid;place-items:center;overflow:hidden;flex-shrink:0}.characters-item__avatar img{width:100%;height:100%;object-fit:cover}.characters-item__content{display:grid;gap:2px}.characters-item__name{font-size:13px;font-weight:600;color:#003049}.characters-item__meta{font-size:11px;color:var(--text-muted);opacity:.75}.characters-item.is-active .characters-item__main{background:#0030490f;border-color:transparent;box-shadow:inset 3px 0 #003049}.characters-item__delete{width:24px;height:24px;border-radius:999px;border:1px solid transparent;background:transparent;color:var(--text-muted);display:inline-flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .15s ease,border-color .15s ease,background .15s ease,color .15s ease}.characters-item:hover .characters-item__delete,.characters-item:focus-within .characters-item__delete{opacity:1;pointer-events:auto}.characters-item__delete:hover,.characters-item__delete:focus-visible{border-color:#780000;background:#78000014;color:#780000}.inspiration-panel{display:flex;flex-direction:column;gap:16px;border:1px solid #003049;border-radius:var(--radius-card);background:var(--bg);box-shadow:none;padding:20px 22px}.panel.inspiration-panel{background:var(--bg);border-color:#003049;box-shadow:none}.inspiration-header{display:grid;gap:12px;padding-bottom:16px;border-bottom:1px solid var(--border-soft)}.inspiration-header-main{display:grid;gap:4px}.inspiration-title{margin:0;font-size:16px;font-weight:600;color:#003049}.inspiration-count{font-size:12px;color:var(--text-muted);opacity:.75}.inspiration-actions{display:grid;gap:12px;width:100%}.inspiration-create{height:36px;align-self:start}.inspiration-field{display:grid;gap:6px;font-size:12px;color:var(--text-muted)}.inspiration-panel .input{width:100%;padding:8px 10px;border-radius:var(--radius-btn);border:1px solid rgba(0,48,73,.6);background:var(--bg);font-size:13px;color:#003049}.inspiration-panel .input::placeholder{color:var(--text-muted)}.inspiration-panel .input:focus-visible{outline:2px solid rgba(0,48,73,.35);outline-offset:2px}.inspiration-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}.inspiration-grid .muted{justify-self:center;text-align:center;color:var(--text-muted)}.inspiration-card{border:1px solid #003049;border-radius:var(--radius-card);background:transparent;overflow:hidden;display:flex;flex-direction:column;cursor:pointer}.inspiration-preview{background:transparent;padding:16px;min-height:140px;display:grid;place-items:center;text-align:center}.inspiration-preview.is-image{padding:0;background:transparent}.inspiration-preview img{width:100%;height:200px;object-fit:cover;display:block;background:transparent}.inspiration-preview-icon span{display:block}.inspiration-preview-domain{font-size:12px;opacity:.7}.inspiration-card-body{padding:12px 14px 14px;background:transparent;display:grid;gap:8px}.inspiration-card-title{margin:0;font-size:15px}.inspiration-tags{display:flex;flex-wrap:wrap;gap:6px}.inspiration-tag{border:1px solid rgba(0,48,73,.3);border-radius:999px;padding:2px 8px;font-size:12px;opacity:.7}.inspiration-card-actions{display:flex;gap:8px}.mindmap-panel{gap:16px;border-color:#003049;background:transparent;box-shadow:none;width:100%}.mindmap-toolbar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.mindmap-toolbar h2{margin:0;font-size:16px;font-weight:600}.mindmap-subtitle{margin:0;font-size:12px;color:var(--text-muted)}.mindmap-toolbar-actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.mindmap-toolbar-actions .btn.is-active{background:var(--selected-bg);border-color:var(--selected-bg);color:var(--selected-fg)}.mindmap-body{display:grid;grid-template-columns:minmax(0,1fr) 240px;gap:16px}.mindmap-canvas{position:relative;min-height:520px;border:1px solid rgba(0,48,73,.35);border-radius:var(--radius-card);background:transparent;overflow:hidden;cursor:grab}.mindmap-canvas:active{cursor:grabbing}.mindmap-viewport{position:absolute;inset:0;transform-origin:0 0}.mindmap-edges{position:absolute;inset:0;width:100%;height:100%;overflow:visible;stroke:#00304999;stroke-width:2;fill:none}.mindmap-edge-label{font-size:11px;fill:#003049b3;text-anchor:middle;dominant-baseline:middle;paint-order:stroke;stroke:#fdf0d5e6;stroke-width:3;pointer-events:none}.mindmap-node{position:absolute;width:180px;height:64px;border-radius:14px;border:1px solid rgba(0,48,73,.45);background:transparent;box-shadow:none;display:grid;gap:4px;align-content:center;padding:8px 12px;text-align:left;color:#003049;cursor:pointer}.mindmap-node:hover{border-color:#003049;box-shadow:none}.mindmap-node.is-active{border-color:#003049;background:transparent;color:#003049;box-shadow:0 0 0 2px #0030494d}.mindmap-node.is-source{outline:2px solid rgba(0,48,73,.8);outline-offset:2px}.mindmap-node.is-flash{animation:mindmap-flash .6s ease}.mindmap-node-title{font-size:13px;font-weight:600;color:#003049}.mindmap-node-type{font-size:11px;opacity:.85;color:#003049;text-transform:uppercase;letter-spacing:.04em}.mindmap-node.node--character{border-style:dashed}.mindmap-node.node--theme .mindmap-node-type{font-style:italic}.mindmap-node.node--event .mindmap-node-type:before{content:"[E] "}.mindmap-node.node--character .mindmap-node-type:before{content:"[P] ";text-transform:none;font-size:10px}.mindmap-node.node--place .mindmap-node-type:before{content:"[L] ";text-transform:none;font-size:10px}.mindmap-sidebar{border:1px solid rgba(0,48,73,.35);border-radius:var(--radius-card);background:transparent;padding:12px;display:grid;gap:12px;align-content:start}.mindmap-sidebar-header{display:flex;align-items:center;justify-content:space-between;gap:8px}.mindmap-sidebar-header h3{margin:0;font-size:14px}.mindmap-sidebar-body{display:grid;gap:10px}.mindmap-sidebar .field{display:grid;gap:6px;font-size:12px;color:var(--text-muted)}.mindmap-sidebar .input{border:1px solid var(--border-modern);background:transparent;color:#003049}.mindmap-empty{display:grid;gap:10px;color:var(--text-muted);font-size:13px}.mindmap-empty h3{margin:0;font-size:14px;color:#003049}.mindmap-empty ul{margin:0;padding-left:18px;display:grid;gap:6px}.mindmap-empty p{margin:0}.mindmap-link-menu{position:absolute;background:#fff;border:1px solid rgba(0,48,73,.4);border-radius:12px;padding:8px;display:grid;gap:6px;box-shadow:0 10px 24px #0030492e;z-index:2}.mindmap-link-menu button{background:transparent;border:1px solid rgba(0,48,73,.3);border-radius:10px;padding:6px 10px;font-size:12px;text-align:left;color:#003049}.mindmap-link-menu button:hover{border-color:#003049;background:transparent;color:#003049}@keyframes mindmap-flash{0%{box-shadow:0 0 #00304966}to{box-shadow:0 0 0 6px #00304900}}@media(max-width:900px){.mindmap-body{grid-template-columns:1fr}}.inspiration-modal-backdrop{position:fixed;inset:0;background:#00000059;display:grid;place-items:center;z-index:50}.inspiration-modal{background:var(--bg);border:1px solid var(--token-border);border-radius:var(--radius-card);width:min(560px,92vw);padding:20px;display:grid;gap:16px}.inspiration-modal-header h3{margin:0}.inspiration-modal-body{display:grid;gap:12px}.inspiration-modal-actions{display:flex;justify-content:flex-end;gap:10px}.inspiration-modal-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}.inspiration-form .field{display:grid;gap:6px}.character-list-header{display:flex;flex-direction:column;align-items:flex-start;gap:6px}.character-list-header h2{margin:0;font-size:16px;font-weight:600;color:#fdf0d5}.character-count{font-size:12px;color:#fdf0d5a6}.character-list-actions{display:grid;gap:6px;width:100%}.character-primary{width:max-content;display:inline-flex;align-items:center;align-self:flex-start;white-space:nowrap;border-radius:var(--radius-btn);padding:4px 12px;height:30px;line-height:1;border:1px dashed rgba(102,155,188,.4);background:transparent;color:#669bbc;font-weight:600;cursor:pointer;text-align:left;font-size:13px}.character-list-actions input{padding:4px 12px;height:32px;line-height:1;border-radius:var(--radius-btn);border:1px solid var(--border-soft);background:#fdf0d5cc;font-size:13px;color:#003049;width:100%}.character-items{display:grid;gap:8px}.character-item{display:flex;align-items:center;gap:8px;padding:0;border-radius:0;border:1px solid transparent;background:transparent;color:#fdf0d5e6}.character-item:hover{background:transparent;border-color:#003049;color:#003049}.character-item.is-active{border-color:var(--selected-bg);background:transparent}.character-item-main{display:inline-grid;grid-template-columns:auto 1fr;align-items:center;gap:10px;border:none;outline:none;box-shadow:none;background:transparent;padding:6px 10px;border-radius:var(--radius-btn);text-align:left;cursor:pointer;color:inherit;flex:1}.characters-skin .character-item-main:focus-visible{outline:2px solid rgba(0,48,73,.35);outline-offset:2px}.character-delete{width:24px;height:24px;border-radius:999px;border:1px solid #780000;background:#78000014;color:#780000;display:inline-flex;align-items:center;justify-content:center;opacity:.85;transition:opacity .15s ease,border-color .15s ease,background .15s ease}.character-item:hover .character-delete,.character-delete:focus-visible{opacity:1}.character-delete:hover{border-color:#780000;background:#78000029;color:#780000}.character-delete:before{content:"×";font-size:16px;line-height:1;color:currentColor}.character-item.is-active .character-item-main{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);box-shadow:none}.character-subtext{display:block;font-size:11px;color:#fdf0d5a6}.character-avatar{width:32px;height:32px;border-radius:999px;background:var(--surface-modern);border:1px solid var(--border-modern);display:grid;place-items:center;font-size:12px;font-weight:600;overflow:hidden}.character-avatar img,.character-hero-avatar img{width:100%;height:100%;display:block;border-radius:999px;object-fit:cover}.character-name{font-size:14px;line-height:1.2}.character-detail-panel{display:grid;gap:18px;padding:20px 22px;background:var(--surface-modern)}.character-detail-panel.empty{place-items:center;text-align:center;color:var(--text-muted)}.character-hero{display:grid;grid-template-columns:auto minmax(0,1fr) auto;gap:16px;align-items:flex-start;border-bottom:1px solid var(--border-soft);padding-bottom:20px}.character-hero-avatar{width:72px;height:72px;border-radius:999px;border:1px solid var(--border-modern);background:var(--surface-modern);display:grid;place-items:center;padding:0;cursor:pointer;font-weight:600;color:var(--text-muted);overflow:hidden}.character-hero-info h3{margin:0 0 6px;font-size:18px}.character-hero-info .character-meta{margin:0;color:var(--text-muted);font-size:12px}.character-hero-info ul{margin:0;padding-left:16px;color:var(--text-muted);font-size:12px}.character-hero-meta{display:grid;gap:8px;justify-items:end;text-align:right;font-size:12px;color:var(--text-muted)}.character-stars{display:inline-flex;gap:4px}.character-star{border:none;background:transparent;padding:0;color:#00304940;font-size:16px;cursor:pointer}.character-star.is-active{color:#669bbc}.character-sections{display:grid;gap:10px}.character-accordion{border-top:1px solid var(--border-soft);padding-top:8px}.character-accordion:first-child{border-top:none;padding-top:0}.character-accordion-header{width:100%;display:flex;align-items:center;justify-content:space-between;gap:10px;background:transparent;border:none;padding:8px 0;cursor:pointer;text-transform:uppercase;letter-spacing:.08em;font-size:12px;color:#003049}.character-accordion-header span:nth-child(2){margin-right:auto}.character-accordion-icon{transform:rotate(-90deg);transition:transform .2s ease;color:var(--text-muted);font-size:18px}.character-accordion.is-open .character-accordion-icon{transform:rotate(90deg)}.character-accordion-body{display:flex;flex-direction:column;gap:12px}.character-dot{width:6px;height:6px;border-radius:999px;background:var(--accent-warm)}.character-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px 16px}.character-grid label{display:grid;gap:6px;font-size:12px;color:var(--text-muted)}.character-grid input{padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:var(--surface-modern);font-size:13px;color:#003049}.character-grid textarea{min-height:90px;padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:var(--surface-modern);font-size:13px;color:#003049;resize:vertical}.character-physique{display:grid;gap:8px;justify-items:start}.character-physique-preview{width:100%;max-width:320px;aspect-ratio:3 / 4;border-radius:var(--radius-card);border:1px solid var(--border-modern);background:var(--surface-modern);overflow:hidden}.character-physique-preview img{width:100%;height:100%;object-fit:cover;display:block}.character-inline{grid-column:span 2}.character-inline-row{display:flex;flex-wrap:wrap;gap:12px;font-size:12px;color:#003049}.character-inline-row label{display:inline-flex;align-items:center;gap:6px;font-size:12px;color:#003049}.app-layout>.panel:not(.editor){background:var(--surface-modern);border-color:transparent;color:#fdf0d5bf}.panel-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.panel-header h2{margin:0;font-size:14px;font-weight:500;letter-spacing:.02em;color:#003049}.app-layout>.panel:not(.editor) .panel-header h2{color:#fdf0d5}.context{margin:4px 0 0;font-size:13px;color:var(--text-muted)}.editor{min-height:520px;padding:0 32px 32px}.editor-body{display:grid;gap:8px;min-height:360px}.editor-field textarea{min-height:60vh;font-family:"Source Serif 4",Libre Baskerville,serif;font-size:18px;line-height:1.65;max-width:70ch;width:100%;margin:0 auto;padding:24px 0;background:transparent;border:none;box-shadow:none;color:#003049;caret-color:#003049}.editor-toolbar{display:flex;flex-wrap:wrap;gap:6px;padding:4px;margin-top:-32px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:var(--bg)}.toolbar-group{display:flex;align-items:center;gap:4px;padding-right:6px;border-right:1px solid var(--border-modern)}.toolbar-group:last-child{border-right:none;padding-right:0}.toolbar-group-right{margin-left:auto}.toolbar-segment{gap:0;padding-right:6px;border-right:1px solid var(--border-modern)}.toolbar-segment .toolbar-button{border-radius:0;border-right:none;padding:2px 5px;min-width:20px;height:20px}.toolbar-segment .toolbar-button:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.toolbar-segment .toolbar-button:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px;border-right:1px solid var(--border-modern)}.toolbar-label{font-size:12px;color:var(--text-muted)}.toolbar-select{padding:3px 6px;border-radius:var(--radius-btn);border:1px solid var(--selected-bg);background:var(--selected-bg);font-size:11px;color:var(--selected-fg)}.toolbar-select:focus-visible,.toolbar-select:active{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg)}.icon-bold span{font-weight:700}.icon-italic span{font-style:italic}.icon-heading span{font-weight:700;font-size:11px}.icon-history span{font-size:14px}.icon-highlight{position:relative}.icon-highlight span{position:relative;z-index:1}.icon-highlight:after{content:"";position:absolute;bottom:6px;left:6px;right:6px;height:8px;background:#669bbc40;border-radius:4px;z-index:0}.icon-align span{width:16px;height:10px;display:inline-block;background-repeat:no-repeat;background-image:linear-gradient(currentColor,currentColor),linear-gradient(currentColor,currentColor),linear-gradient(currentColor,currentColor);background-size:100% 2px,80% 2px,60% 2px;background-position:0 0,0 4px,0 8px;border-radius:2px}.icon-align-center span{background-size:90% 2px,60% 2px,90% 2px;background-position:50% 0,50% 4px,50% 8px}.icon-align-right span{background-size:100% 2px,80% 2px,60% 2px;background-position:100% 0,100% 4px,100% 8px}.icon-align-justify span{background-size:100% 2px,100% 2px,100% 2px;background-position:0 0,0 4px,0 8px}.icon-list span:before,.icon-list span:after{content:"";position:absolute;left:6px;height:2px;background:currentColor;border-radius:2px;width:10px}.icon-list span{position:relative;display:inline-block;width:16px;height:12px;background-repeat:no-repeat}.icon-list span:before{top:1px}.icon-list span:after{bottom:1px}.icon-list-bullet span{background:radial-gradient(circle at 2px 2px,currentColor 2px,transparent 2px),radial-gradient(circle at 2px 10px,currentColor 2px,transparent 2px)}.icon-list-ordered span:before{content:"1.";position:static;font-size:11px;font-weight:700;background:transparent}.icon-list-ordered span:after{display:none}.icon-list-ordered span{display:inline-flex;align-items:center;justify-content:center;background:none;width:16px;height:16px;line-height:1;transform:translateY(-4px)}.editor-toolbar .toolbar-button{padding:3px 6px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:transparent;color:#003049;font-size:12px;cursor:pointer;min-width:24px;height:24px;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.editor-toolbar .toolbar-button:hover{border-color:#003049;background:transparent;color:#003049}.editor-toolbar .toolbar-button.is-active{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);font-weight:600}.editor-toolbar .toolbar-button:disabled{opacity:.5;cursor:not-allowed}.editor-toolbar .toolbar-button:focus-visible{outline:2px solid #669bbc;outline-offset:2px}.toolbar-select:focus-visible{outline:2px solid #669bbc;outline-offset:2px}.editor-canvas{min-height:100%;padding:0;border-radius:0;border:none;background:transparent;width:100%}.paper-shell{--page-width: 820px;--page-height: 1160px;--page-padding: 48px;--page-gap: 28px;--page-footer-space: 28px;width:100%;position:relative;display:flex;justify-content:center;overflow-x:hidden}.editor-canvas .ProseMirror{font-family:"Source Serif 4",Libre Baskerville,serif;font-size:18px;line-height:1.65;width:100%;margin:0 auto;padding:0;border:none;background-color:transparent;box-shadow:none;outline:none;color:#003049;box-sizing:border-box;white-space:pre-wrap;overflow-wrap:anywhere;word-break:break-word}.editor-canvas .ProseMirror:focus{box-shadow:none}.editor-canvas .page-node{width:min(70ch,100%);height:var(--page-height);margin:0 auto var(--page-gap);padding:var(--page-padding) var(--page-padding) calc(var(--page-padding) + var(--page-footer-space));border-radius:0;border:none;background:transparent;box-shadow:none;box-sizing:border-box;overflow:visible;position:relative}.editor-canvas .page-node:last-child{margin-bottom:0}.editor-canvas .ProseMirror p{margin:0 0 12px}.editor-canvas .page-word-count{position:absolute;right:var(--page-padding);bottom:12px;font-size:11px;color:#00304973;letter-spacing:.02em;pointer-events:none;-webkit-user-select:none;user-select:none}.writing-page .page{padding:0;background:transparent;border:none;box-shadow:none}.writing-page .editor-field{max-width:none;margin:0}.editor-field textarea:focus-visible{outline:2px solid rgba(102,155,188,.4);outline-offset:4px}.status{font-size:12px;color:var(--text-muted);padding:4px 10px;border-radius:999px;background:var(--surface-modern)}.status:empty{display:none}.list{list-style:none;padding:0;margin:0;display:grid;gap:4px}.chapter-item{display:block;display:flex;align-items:center;gap:8px}.chapter-item .list-button{cursor:grab;flex:1}.chapter-delete{width:24px;height:24px;border-radius:999px;border:1px solid #780000;background:#78000014;color:#780000;display:inline-flex;align-items:center;justify-content:center;opacity:.85;transition:opacity .15s ease,border-color .15s ease,background .15s ease}.chapter-item:hover .chapter-delete,.chapter-delete:focus-visible{opacity:1}.chapter-delete:hover{border-color:#780000;background:#78000029;color:#780000}.chapter-delete svg{display:none}.chapter-delete svg path{stroke:currentColor}.chapter-delete:before{content:"×";font-size:16px;line-height:1;color:currentColor}.chapter-item.is-dragging{opacity:.5}.chapter-item.is-drop-target{outline:2px solid rgba(102,155,188,.28);outline-offset:2px}.chapter-item.is-dragging .list-button{cursor:grabbing}.projects-list{list-style:none;padding:0;margin:0;display:grid;gap:8px}.projects-item{display:block}.project-nav-button{width:100%;text-align:left;padding:10px 12px;border-radius:var(--radius-card);border:1px solid var(--border-modern);background:var(--surface-modern);cursor:pointer;color:#003049;transition:background .2s ease,border-color .2s ease}.project-nav-button:hover{background:transparent;border-color:#003049;color:#003049}.project-nav-button.is-selected{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);box-shadow:none;font-weight:600}.project-nav-title{display:block}.project-edit-input{width:100%;padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-soft);font-family:inherit;font-size:14px;background:var(--surface-modern);color:#003049}.project-edit-input:focus-visible{outline:2px solid #669bbc;outline-offset:2px}.list-button{width:100%;text-align:left;padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:transparent;cursor:pointer;color:#003049}.list-button:hover{background:transparent;border-color:#003049;color:#003049}.list-button.is-selected{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);box-shadow:none;font-weight:600}.app-layout>.panel:not(.editor) .list-button{color:var(--text-modern)}.app-layout>.panel:not(.editor) .list-button.is-selected{border-color:var(--selected-bg);background:var(--selected-bg);color:var(--selected-fg);box-shadow:none;font-weight:600}h1{margin:0;font-size:28px;font-weight:500;letter-spacing:.01em}p{margin:0;color:#003049}.muted{color:var(--text-muted);font-size:13px;opacity:.75}.empty{display:grid;place-items:center;min-height:200px;text-align:center;color:var(--text-muted)}.form{display:grid;gap:12px}.field{display:grid;gap:4px;font-size:14px;color:var(--text-muted)}.field input,.field textarea{padding:10px 12px;border-radius:var(--radius-btn);border:1px solid var(--border-soft);font-family:inherit;font-size:14px;color:#003049;background:var(--surface-modern)}.editor-field textarea::placeholder{color:var(--text-muted)}.field input:focus-visible,.field textarea:focus-visible,button:focus-visible,summary:focus-visible{outline:2px solid #669bbc;outline-offset:2px}.actions{display:flex;flex-wrap:wrap;gap:10px}.message{min-height:20px;font-size:14px;color:#780000}button{width:fit-content;padding:8px 14px;border-radius:var(--radius-btn);border:1px solid var(--accent);background:var(--accent);color:#fdf0d5;cursor:pointer;transition:color .15s ease-out,border-color .15s ease-out}button:hover{background:#003049;border-color:#003049;color:#fff}button.secondary{background:#669bbc0f;color:var(--text-muted);border-color:transparent}button.secondary:hover{border-color:#003049;background:transparent;color:#003049}button.danger{background:transparent;color:#780000;border-color:#78000059}button.danger:hover{border-color:#003049;background:transparent;color:#003049}button.compact{padding:6px 10px;font-size:12px}button:disabled{opacity:.5;cursor:not-allowed}.conflict{border:1px solid #c1121f;background:#c1121f14;padding:12px;border-radius:var(--radius-btn);display:grid;gap:8px}.history{border-radius:14px;border:1px solid var(--border-modern);padding:12px 16px;background:var(--surface-modern)}.history-summary{cursor:pointer;font-weight:500;color:#003049}.history-body{display:grid;gap:12px;margin-top:12px}.version-list{list-style:none;padding:0;margin:0;display:grid;gap:8px}.version-item{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 10px;border-radius:var(--radius-btn);border:1px solid var(--border-modern);background:var(--surface-modern)}@media(max-width:900px){#app{padding:20px 16px 40px}.topbar{padding:10px 12px}.page{padding:18px}.writing-layout{grid-template-columns:1fr}.home-layout{display:block}.home-shell .topbar-left .topbar-nav{margin-left:0}.home-stats-card{grid-template-columns:1fr}.home-stats-divider{width:100%;height:1px}.character-shell{grid-template-columns:1fr}.character-list{border-right:none;padding:16px;border-bottom:1px solid var(--border-soft)}.character-hero{grid-template-columns:1fr;text-align:center;justify-items:center}.character-hero-meta{justify-items:center}.character-grid{grid-template-columns:1fr}.paper-shell{--page-padding: 14mm}.editor-field textarea{font-size:16px}}@media print{body{background:#fdf0d5}#app{padding:0;max-width:none}.topbar,.history{display:none}.paper-shell{--page-width: 210mm;--page-height: 297mm;--page-padding: 22mm}.editor-canvas .page-node{box-shadow:none;border:none;background:#fdf0d5}.editor-canvas .page-word-count{display:none}}.history{background:var(--surface-modern);color:var(--text-muted)}.history[open]{box-shadow:none}.history-summary{color:var(--text-muted)}.editor-field{max-width:720px;margin:0 auto}.btn{display:inline-flex;align-items:center;justify-content:center;gap:calc(var(--token-spacing) / 2);padding:calc(var(--token-spacing) / 2) var(--token-spacing);border-radius:var(--radius-card);border:1px solid var(--token-border);background:transparent;color:var(--token-text);cursor:pointer;font:inherit;text-decoration:none;line-height:1.2;letter-spacing:.01em;transition:color .15s ease-out,border-color .15s ease-out}.btn:hover{border-color:#003049;color:#fff;background:#003049;box-shadow:none}.btn:focus-visible{outline:2px solid var(--token-focus);outline-offset:2px}.btn-primary{background:var(--token-accent);border-color:var(--token-accent);color:var(--token-bg)}.btn-secondary{background:transparent;border-color:var(--token-border);color:var(--token-text)}.btn-danger{background:transparent;border-color:var(--token-danger);color:var(--token-danger)}.btn-danger:hover,.btn-danger:focus-visible{border-color:var(--token-danger);color:var(--token-danger);background:#78000029}.danger-hover:hover,.danger-hover:focus-visible{border-color:var(--token-danger);color:var(--token-danger);background:#78000029}.btn-ghost{background:transparent;border-color:transparent;color:var(--token-text)}.btn-compact{padding:calc(var(--token-spacing) / 3) calc(var(--token-spacing) / 1.5);border-radius:var(--radius-btn);font-size:.85em}.card,.panel{background:var(--surface-modern);border:1px solid var(--border-modern);border-radius:var(--radius-card);box-shadow:var(--shadow-1)}.mindmap-panel.panel,.mindmap-panel.card,.panel.mindmap-panel{background:transparent;box-shadow:none;border:1px solid #003049}.mindmap-panel .mindmap-canvas,.mindmap-panel .mindmap-sidebar,.mindmap-panel .mindmap-sidebar .input{background:transparent}.ideas-content{display:grid;gap:20px;max-width:1600px;width:100%;justify-self:center;padding:32px 24px 48px;border:1px solid #003049;border-radius:var(--radius-card)}.ideas-content--embedded{max-width:none;width:100%;justify-self:stretch}.ideas-content .panel,.ideas-content .card{background:transparent;border:1px solid #003049;box-shadow:none}.ideas-capture{display:grid;gap:12px;padding:16px}.ideas-capture-input{min-height:120px;font-size:1.05rem;border:1px solid #003049;background:transparent}.ideas-capture-foot{display:flex;align-items:center;justify-content:space-between;gap:12px}.ideas-capture-hint,.ideas-capture-status{font-size:12px;color:var(--text-muted)}.ideas-capture-status:empty{display:none}.ideas-controls{display:grid;gap:12px}.ideas-content .input{background:transparent;border-color:#003049}.projects-content{display:grid;gap:20px;max-width:1200px;width:100%;justify-self:center;padding:32px 24px 48px;border:1px solid #003049;border-radius:var(--radius-card)}.projects-header{display:flex;align-items:center;justify-content:space-between;gap:16px}.projects-header h2{margin:0}.projects-grid{display:grid;gap:16px}.projects-empty{display:grid;gap:12px;justify-items:start}.ideas-controls-main{display:grid;gap:12px;grid-template-columns:minmax(220px,1fr) auto;align-items:center}.ideas-filters-toggle{white-space:nowrap;border:1px solid transparent;background:transparent;color:inherit;transition:color .15s ease-out,border-color .15s ease-out}.ideas-filters-toggle:hover{color:#003049;border-color:#003049;background:transparent}.ideas-filters-toggle:focus-visible{outline:2px solid #003049;outline-offset:2px}.ideas-filters-panel{display:grid;gap:12px;padding:12px;border-radius:12px;border:1px solid #003049;background:transparent;justify-self:end;width:min(360px,100%)}.ideas-layout{display:grid;gap:24px}.ideas-layout--master-detail{grid-template-columns:minmax(220px,.85fr) minmax(0,1.15fr);align-items:start}.ideas-list{display:grid;gap:4px;padding:4px 16px 4px 0;border-right:1px solid rgba(0,48,73,.18)}.ideas-detail{display:grid;gap:16px;padding:4px 0 4px 8px}.ideas-item{width:100%;text-align:left;padding:12px 8px;border-radius:10px;border:none;border-bottom:1px solid rgba(0,48,73,.12);background:transparent;display:grid;gap:6px;transition:color .2s ease,background .2s ease}.ideas-item:hover{background:#0030490f;color:#003049}.ideas-item.is-selected{background:#0030491f;color:#003049}.ideas-item.is-selected .ideas-item__line1,.ideas-item.is-selected .ideas-item__meta{color:#003049}.ideas-item__line1{font-weight:600;color:var(--text-main);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ideas-item__meta{font-size:12px;color:var(--text-muted);display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ideas-item__status{font-weight:600}.ideas-item__status.status-used{opacity:.75}.ideas-item__status.status-abandoned{opacity:.6}.writing-context{display:flex;align-items:center;gap:8px;padding:12px 0 4px;color:var(--text-muted);font-size:12px}.writing-context-sep{opacity:.6}.ideas-detail-body{display:grid;gap:16px}.ideas-detail-input{width:100%;min-height:220px;padding:10px 12px;border-radius:12px;border:1px solid rgba(0,48,73,.18);background:transparent;font-size:1.05rem;line-height:1.6;color:var(--text-main)}.ideas-detail-input:focus{outline:2px solid rgba(0,48,73,.2);outline-offset:2px}.ideas-detail-meta{display:flex;flex-wrap:wrap;gap:16px}.ideas-meta-field{display:grid;gap:6px;font-size:12px;color:var(--text-muted)}.ideas-meta-field .input{min-width:200px}.ideas-detail-note{display:grid;gap:10px}.ideas-note-toggle{align-self:flex-start}.ideas-note-input{border:1px solid rgba(0,48,73,.18);background:transparent}.ideas-detail-footer{display:flex;align-items:center;justify-content:space-between;gap:12px;padding-top:14px;border-top:1px solid rgba(0,48,73,.18)}.ideas-detail-actions{display:flex;flex-wrap:wrap;gap:8px}.ideas-detail-actions-title{margin:0;font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:var(--text-muted)}.ideas-action-hint{font-size:12px;color:var(--text-muted)}.ideas-detail-empty{color:var(--text-muted)}.ideas-detail-empty ul{margin:8px 0 0;padding-left:18px;display:grid;gap:4px}.ideas-delete{justify-self:start}.ideas-delete:hover{border-color:#780000;background:#78000029;color:#780000}.ideas-empty{color:var(--text-muted)}@media(max-width:900px){.ideas-layout,.ideas-layout--master-detail{grid-template-columns:1fr}.ideas-list{border-right:none;padding-right:0;border-bottom:1px solid rgba(0,48,73,.18);padding-bottom:16px}.ideas-detail{padding-left:0}.ideas-controls-main{grid-template-columns:1fr}.ideas-capture-foot{flex-direction:column;align-items:flex-start}}.panel-header{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--token-spacing) / 2);padding:var(--token-spacing);border-bottom:1px solid transparent}.panel-body{padding:var(--token-spacing)}.input{width:100%;padding:calc(var(--token-spacing) / 2) var(--token-spacing);border-radius:var(--radius-btn);border:1px solid var(--border-soft);background:var(--token-surface);color:var(--token-text);font:inherit}.input:focus-visible{outline:2px solid var(--token-focus);outline-offset:2px}.input-sm{padding:calc(var(--token-spacing) / 3) calc(var(--token-spacing) / 1.5);border-radius:var(--radius-btn);font-size:.9em}.input-search{padding-left:calc(var(--token-spacing) * 1.5)}.editor-toolbar .toolbar-select.input{background:var(--selected-bg);border-color:var(--selected-bg);color:var(--selected-fg)}.editor-toolbar .toolbar-select.input:focus-visible,.editor-toolbar .toolbar-select.input:active{background:var(--selected-bg);border-color:var(--selected-bg);color:var(--selected-fg)}
